{% extends 'core/base.html' %}
{% load static %}
{% block content %}
<section class="py-5"> {# Sección principal con espaciado vertical. #}
    <div class="container px-5 my-5"> {# Contenedor principal con márgenes ajustados para una mejor presentación. #}
        <div class="text-center mb-5"> {# Encabezado centrado con margen inferior. #}
            <h1 class="fw-bold">Contáctanos</h1> {# Título principal con estilo de negrita. #}
            <p class="text-muted">¿Tienes alguna pregunta o comentario? Estamos aquí para ayudarte.</p> {# Texto descriptivo para contextualizar el formulario. #}
        </div>

        <div class="row justify-content-center"> {# Fila de Bootstrap para centrar horizontalmente el contenido. #}
            <div class="col-lg-8"> {# Columna con ancho adaptable para pantallas grandes. #}
                <form action="" method="POST"> {# Inicia el formulario con método POST para enviar datos. #}
                    {% csrf_token %} {# Protección contra ataques CSRF. Obligatorio en formularios de Django. #}

                    <div class="mb-3"> {# Contenedor con margen inferior para el campo del nombre. #}
                        <label for="name" class="form-label fw-bold">Nombre y Apellido</label> {# Etiqueta descriptiva del campo. #}
                        {{ form.name }} {# Renderiza el campo del formulario para el nombre. #}
                        {{ form.name.errors }} {# Muestra errores asociados al campo, si los hay. #}
                    </div>

                    <div class="mb-3"> {# Contenedor con margen inferior para el campo del correo electrónico. #}
                        <label for="email" class="form-label fw-bold">Correo Electrónico</label> {# Etiqueta descriptiva del campo. #}
                        {{ form.email }} {# Renderiza el campo del formulario para el correo. #}
                        {{ form.email.errors }} {# Muestra errores asociados al campo, si los hay. #}
                    </div>

                    <div class="mb-3"> {# Contenedor con margen inferior para el campo del mensaje. #}
                        <label for="message" class="form-label fw-bold">Mensaje</label> {# Etiqueta descriptiva del campo. #}
                        {{ form.message }} {# Renderiza el campo del formulario para el mensaje. #}
                        {{ form.message.errors }} {# Muestra errores asociados al campo, si los hay. #}
                    </div>

                    <div class="d-grid"> {# Contenedor para que el botón ocupe el ancho completo. #}
                        <button type="submit" class="btn btn-primary btn-lg" 
                            {% if 'ok' in request.GET %} disabled {% endif %}>Enviar Mensaje</button> {# Botón de envío. Se desactiva si el mensaje fue enviado con éxito. #}
                    </div>
                </form> {# Cierra el formulario. #}

                {% if 'ok' in request.GET %} {# Verifica si hay un mensaje de éxito. #}
                <div class="alert alert-success mt-5" role="alert"> {# Mensaje de éxito con estilo de alerta. #}
                    <strong>El mensaje se ha enviado correctamente.</strong>
                </div>
                {% endif %}

                {% if 'error' in request.GET %} {# Verifica si hay un mensaje de error. #}
                <div class="alert alert-danger mt-5" role="alert"> {# Mensaje de error con estilo de alerta. #}
                    <strong>El mensaje no ha podido ser enviado. Por favor, intente más tarde.</strong>
                </div>
                {% endif %}
            </div> {# Cierra la columna. #}
        </div> {# Cierra la fila. #}
    </div> {# Cierra el contenedor principal. #}
</section> {# Cierra la sección de contenido. #}
{% endblock %}
